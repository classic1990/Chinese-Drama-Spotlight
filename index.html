<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DUYDODEE-HD - ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á-‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ü‡∏£‡∏µ</title>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé¨</text></svg>">
<meta name="description" content="DUYDODEE-HD ‡πÄ‡∏ß‡πá‡∏ö‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ü‡∏£‡∏µ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏Ñ‡∏£ ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡∏±‡∏á ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°">
<meta name="keywords" content="‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á, ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô, ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á, movie review, DUYDODEE-HD, ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå, ‡∏´‡∏ô‡∏±‡∏á‡∏ü‡∏£‡∏µ">
<meta property="og:title" content="DUYDODEE-HD - ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á-‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ü‡∏£‡∏µ">
<meta property="og:description" content="DUYDODEE-HD ‡πÄ‡∏ß‡πá‡∏ö‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ü‡∏£‡∏µ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏Ñ‡∏£ ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà">
<meta property="og:image" content="https://images.pexels.com/photos/2531709/pexels-photo-2531709.jpeg">
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&family=Jura:wght@700&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    margin: 0; font-family: 'Prompt', sans-serif; 
    background-color: #000;
    color: #fff; 
    overflow-x: hidden;
}

/* --- Cyber Storm Background --- */
.storm-bg {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2;
    background: #000;
    overflow: hidden;
}
.storm-bg .lightning {
    position: absolute;
    left: 50%; top: 0;
    width: 2px;
    height: 100%;
    background: #fff;
    box-shadow: 0 0 10px #e50914, 0 0 20px #e50914, 0 0 30px #e50914;
    opacity: 0;
    transform-origin: top;
    animation: lightning-strike 5s linear infinite;
}
.storm-bg .lightning:nth-child(2) { animation-delay: 1.2s; left: 20%; transform: scale(0.8); }
.storm-bg .lightning:nth-child(3) { animation-delay: 2.5s; left: 80%; transform: scale(0.9); }
.storm-bg .lightning:nth-child(4) { animation-delay: 4.1s; left: 60%; transform: scale(0.7); }

@keyframes lightning-strike {
    0%, 100% { opacity: 0; transform: scaleY(0); }
    5% { opacity: 1; transform: scaleY(1); }
    10% { opacity: 0; transform: scaleY(1); }
}


/* --- Hero & Electric Logo --- */
.hero {
    height: 50vh;
    display: flex; align-items: center; justify-content: center; text-align: center; 
    position: relative;
    overflow: hidden;
}

.neon-logo {
    font-family: 'Jura', sans-serif; font-weight: 700; font-size: clamp(3rem, 10vw, 7rem); color: #fff;
    text-shadow: 0 0 5px #fff, 0 0 12px #fff, 0 0 25px #e50914, 0 0 45px #e50914, 0 0 60px #e50914, 0 0 80px #e50914, 0 0 120px #e50914;
    animation: aggressive-flicker 3s infinite alternate, static-charge 0.1s infinite alternate;
}

@keyframes static-charge {
    from { transform: translate(1px, 1px); }
    to { transform: translate(-1px, -1px); }
}

@keyframes aggressive-flicker {
    0%, 10%, 15%, 25%, 30%, 45%, 50%, 60%, 70%, 80%, 100% { 
        text-shadow: 0 0 5px #fff, 0 0 12px #fff, 0 0 25px #e50914, 0 0 45px #e50914, 0 0 60px #e50914, 0 0 80px #e50914, 0 0 120px #e50914;
        color: #fff;
    }
    12%, 27%, 47%, 62%, 72% { text-shadow: none; color: #555; }
    48% { text-shadow: 0 0 5px #fff, 0 0 10px #e50914; color: #fcc; }
}

/* --- Holo-Interface Quick Nav --- */
.quick-nav {
    background: rgba(10, 10, 10, 0.6);
    backdrop-filter: blur(10px);
    padding: 15px 50px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex; 
    justify-content: center;
    gap: 30px;
    border: 1px solid transparent;
    border-image: linear-gradient(to right, transparent, rgba(229, 9, 20, 0.5), transparent) 1;
}
.quick-nav a { color: #ccc; text-decoration: none; font-size: 16px; font-weight: 500; transition: all 0.3s ease; text-shadow: 0 0 3px rgba(0,0,0,0.5); position: relative; padding: 5px 0;}
.quick-nav a::after {
    content: '';
    position: absolute;
    bottom: 0; left: 50%;
    width: 0%; height: 2px;
    background: #e50914;
    box-shadow: 0 0 10px #e50914;
    transition: all 0.4s ease-in-out;
    transform: translateX(-50%);
}
.quick-nav a:hover { color: #fff; transform: scale(1.05); }
.quick-nav a:hover::after { width: 100%; }

/* --- Main Content & Glowing Titles --- */
.main-content { padding: 0 50px 50px 50px; background: rgba(0,0,0,0.3); }
.section { margin-top: 50px; }
.section h2 {
    margin-bottom: 30px; font-size: 28px; display: inline-block; 
    font-weight: 600;
    color: #fff;
    text-shadow: 0 0 4px rgba(255,255,255,0.3), 0 0 8px #e50914, 0 0 15px #e50914;
}

/* --- Fearless Glowing Movie Cards --- */
.movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 40px 30px; }
.movie-card {
    cursor: pointer; 
    text-decoration: none; 
    color: #fff; 
    position: relative;
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.movie-card img {
    width: 100%; 
    aspect-ratio: 2/3; 
    object-fit: cover; 
    border-radius: 18px; 
    box-shadow: 0 15px 35px rgba(0,0,0,0.8);
    transition: box-shadow 0.4s ease;
}
.movie-card .movie-title { margin-top: 15px; font-size: 15px; text-align: center; font-weight: 400; transition: color 0.3s ease; }

/* The GLOW effect */
.movie-card::before {
    content: '';
    position: absolute;
    top: -2px; left: -2px; right: -2px; bottom: -2px;
    background: radial-gradient(circle, #e50914, transparent 70%);
    border-radius: 20px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.4s ease-out;
}

.movie-card:hover { 
    transform: translateY(-12px) scale(1.06);
}
.movie-card:hover::before {
    opacity: 1;
}
.movie-card:hover img {
    box-shadow: 0 0 25px -5px #e50914, 0 15px 40px rgba(0,0,0,1);
}
.movie-card:hover .movie-title {
    color: #e50914;
    font-weight: 600;
}

.empty-grid-message { color: #888; }

@media (max-width: 768px) {
    .hero { height: 40vh; }
    .quick-nav { padding: 15px 20px; gap: 15px; font-size: 14px; flex-wrap: wrap;}
    .main-content { padding: 0 20px 20px 20px; }
}
</style>
</head>
<body>

<div class="storm-bg">
    <div class="lightning"></div>
    <div class="lightning"></div>
    <div class="lightning"></div>
    <div class="lightning"></div>
</div>

<main>
    <header class="hero">
        <div class="hero-content">
            <h1 class="neon-logo">DUYDODEE-HD</h1>
        </div>
    </header>

    <nav class="quick-nav">
        <a href="#movies_section">‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</a>
        <a href="#top_rated_section">‡∏´‡∏ô‡∏±‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</a>
        <a href="#dubbed_series_section">‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢</a>
        <a href="#vertical_series_section">‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á</a>
    </nav>

    <div class="main-content">
        <section id="movies_section" class="section">
            <h2>üé¨ ‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
            <div class="movie-grid" id="movies_grid">
                <p class="empty-grid-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
            </div>
        </section>

        <section id="top_rated_section" class="section">
            <h2>‚≠ê ‡∏´‡∏ô‡∏±‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</h2>
            <div class="movie-grid" id="top_rated_grid">
                 <p class="empty-grid-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö...</p>
            </div>
        </section>

        <section id="dubbed_series_section" class="section">
            <h2>üî• ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï</h2>
            <div class="movie-grid" id="dubbed_series_grid">
                 <p class="empty-grid-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
            </div>
        </section>

        <section id="vertical_series_section" class="section">
            <h2>üì± ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏à‡∏µ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á</h2>
            <div class="movie-grid" id="vertical_series_grid">
                 <p class="empty-grid-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
            </div>
        </section>
    </div>
</main>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyAcCn0NGbakHmLEa_G47K8OepGaRqTV02Q",
      authDomain: "duydodeesport.firebaseapp.com",
      projectId: "duydodeesport",
      storageBucket: "duydodeesport.appspot.com",
      messagingSenderId: "435929814225",
      appId: "1:435929814225:web:fcb01803d9e5b77340e1f0",
      measurementId: "G-JD1MFCNLY0"
    };
    
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    
    const moviesGrid = document.getElementById('movies_grid');
    const topRatedGrid = document.getElementById('top_rated_grid');
    const dubbedSeriesGrid = document.getElementById('dubbed_series_grid');
    const verticalSeriesGrid = document.getElementById('vertical_series_grid');

    const createCard = (content) => {
        const card = document.createElement('a');
        card.className = 'movie-card';
        card.href = `movie-detail.html?id=${content.id}`;
        card.innerHTML = `
            <img src="${content.poster}" alt="${content.title} Poster">
            <div class="movie-title">${content.title}</div>
        `;
        return card;
    };

    const renderGrid = (gridElement, contentList, emptyMessage) => {
        gridElement.innerHTML = '';
        if (contentList.length > 0) {
            contentList.forEach(content => gridElement.appendChild(createCard(content)));
        } else {
            gridElement.innerHTML = `<p class="empty-grid-message">${emptyMessage}</p>`;
        }
    }

    async function loadAllContent() {
        const moviesPromise = db.collection('movies').orderBy('createdAt', 'desc').get();
        const ratingsPromise = db.collection('ratings').get();

        try {
            const [moviesSnapshot, ratingsSnapshot] = await Promise.all([moviesPromise, ratingsPromise]);

            const allMovies = {};
            moviesSnapshot.forEach(doc => {
                allMovies[doc.id] = { id: doc.id, ...doc.data() };
            });

            const ratingsSummary = {};
            ratingsSnapshot.forEach(doc => {
                const rating = doc.data();
                if (!ratingsSummary[rating.movieId]) {
                    ratingsSummary[rating.movieId] = { total: 0, count: 0 };
                }
                ratingsSummary[rating.movieId].total += rating.rating;
                ratingsSummary[rating.movieId].count++;
            });

            Object.keys(ratingsSummary).forEach(movieId => {
                const summary = ratingsSummary[movieId];
                summary.avg = summary.total / summary.count;
            });

            const categorized = { movie: [], chinese_series_dubbed: [], chinese_series_vertical: [] };
            const allMoviesList = Object.values(allMovies);

            allMoviesList.forEach(content => {
                if (categorized[content.category]) {
                    categorized[content.category].push(content);
                } else {
                    categorized.movie.push(content); // Fallback
                }
            });

            let topRatedMovies = allMoviesList
                .filter(movie => ratingsSummary[movie.id])
                .map(movie => ({ ...movie, rating: ratingsSummary[movie.id] }))
                .sort((a, b) => b.rating.avg - a.rating.avg || b.rating.count - a.rating.count);

            renderGrid(moviesGrid, categorized.movie, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥');
            renderGrid(topRatedGrid, topRatedMovies.slice(0, 10), '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô');
            renderGrid(dubbedSeriesGrid, categorized.chinese_series_dubbed, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢');
            renderGrid(verticalSeriesGrid, categorized.chinese_series_vertical, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á');

        } catch (error) {
            console.error("Error loading content:", error);
            const errorMessage = '<p class="empty-grid-message">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>';
            moviesGrid.innerHTML = errorMessage;
            topRatedGrid.innerHTML = errorMessage;
            dubbedSeriesGrid.innerHTML = errorMessage;
            verticalSeriesGrid.innerHTML = errorMessage;
        }
    }

    loadAllContent();

</script>

</body>
</html>
